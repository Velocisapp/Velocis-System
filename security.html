<!DOCTYPE html>
<html>
<head>
    <title>VELOCISâ„¢ | Full Mission Engine</title>
    <style>
        body { margin: 0; background: #0b0e14; font-family: -apple-system, sans-serif; color: #00f2ff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        #terminal-view { flex: 1; position: relative; background: #0b0e14; border: 1px solid #1a1f26; margin: 15px; border-radius: 24px; box-shadow: inset 0 0 50px #000; cursor: crosshair; }
        
        /* THE X-RAY MATRIX */
        svg { width: 100%; height: 100%; transition: transform 0.5s ease-out; }
        .wall { stroke: #1a1f26; stroke-width: 3; fill: rgba(26, 31, 38, 0.5); }
        .path-guide { stroke: #007AFF; stroke-width: 3; stroke-dasharray: 6; fill: none; opacity: 0.4; }
        .partner-shop { fill: #1a1f26; stroke: #ffd700; stroke-width: 2; transition: 0.5s; }
        .pulse { filter: drop-shadow(0 0 10px #ffd700); stroke-width: 4; }
        
        /* THE BRAIN (CYAN DOT) */
        #passenger-dot { fill: #00f2ff; filter: drop-shadow(0 0 12px #00f2ff); transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); }

        /* PASSENGER HUD */
        #hud { padding: 25px; background: rgba(11, 14, 20, 0.95); border-top: 1px solid #1a1f26; backdrop-filter: blur(10px); }
        .status-chip { display: inline-block; padding: 4px 12px; border-radius: 50px; background: rgba(0, 242, 255, 0.1); font-size: 10px; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px; border: 1px solid #00f2ff; }
        .instruction { font-size: 22px; font-weight: 500; color: #fff; margin-bottom: 15px; }
        #altimeter-readout { position: absolute; top: 30px; right: 30px; font-family: monospace; font-size: 12px; color: #555; }
    </style>
</head>
<body>

<div id="terminal-view">
    <div id="altimeter-readout">ALT: 12.0m (LOCKED)</div>
    <svg id="matrix-svg" viewBox="0 0 1000 500">
        <rect class="wall" x="50" y="50" width="900" height="400" rx="20" />
        
        <path id="guide" class="path-guide" d="M 100 250 L 300 250 L 500 150 L 900 150" />

        <rect id="shop-starbucks" class="partner-shop" x="520" y="80" width="100" height="50" rx="8" />
        <text x="535" y="110" fill="#ffd700" font-size="12" font-weight="bold">STARBUCKS</text>

        <circle id="passenger-dot" cx="100" cy="250" r="10" />
    </svg>
</div>

<div id="hud">
    <div id="mission-chip" class="status-chip">CHECK-IN PHASE</div>
    <div id="instruction" class="instruction">Welcome to MIA. Move to Counter 4.</div>
    <button onclick="simulateMovement()" style="padding: 12px 24px; background: #00f2ff; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">SIMULATE ADVANCE</button>
</div>

<script>
    const MissionBrain = {
        state: 0,
        checkpoints: [
            { x: 300, y: 250, label: "TSA PHASE", text: "Check-in done. Move to Security D.", zoom: 1.2 },
            { x: 550, y: 150, label: "RETAIL PHASE", text: "Security cleared. 10% Off Coffee ahead!", zoom: 1.5 },
            { x: 900, y: 150, label: "GATE PHASE", text: "Arriving at Gate D34. Safe flight!", zoom: 1.1 }
        ],

        checkProximity(x, y) {
            // Invisible sensor for the Starbucks (8% commission trigger)
            const shop = document.getElementById('shop-starbucks');
            const distance = Math.sqrt(Math.pow(x - 570, 2) + Math.pow(y - 105, 2));
            
            if (distance < 100) {
                shop.classList.add('pulse');
            } else {
                shop.classList.remove('pulse');
            }
        }
    };

    function simulateMovement() {
        if (MissionBrain.state < MissionBrain.checkpoints.length) {
            const data = MissionBrain.checkpoints[MissionBrain.state];
            const dot = document.getElementById('passenger-dot');
            const svg = document.getElementById('matrix-svg');
            
            // Move the Brain
            dot.setAttribute('cx', data.x);
            dot.setAttribute('cy', data.y);
            
            // Update HUD (No jargon)
            document.getElementById('mission-chip').innerText = data.label;
            document.getElementById('instruction').innerText = data.text;
            
            // Check sensors
            MissionBrain.checkProximity(data.x, data.y);
            
            MissionBrain.state++;
        }
    }
</script>
</body>
</html>
